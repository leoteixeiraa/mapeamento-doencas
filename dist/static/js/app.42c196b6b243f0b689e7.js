webpackJsonp([1],{"9M+g":function(t,e){},JVU7:function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},i=a("VU/8")({name:"App"},s,!1,null,null,null).exports,n=a("/ocq"),r=a("mtWM"),l=a.n(r),c=a("yGkR"),u={data:()=>({route:{origin:{address:"",lat:0,lng:0},destination:{address:"UBS - Unidade Basica De Saúde - São José, Avenida Caçador, 40 - CENTRO, Fraiburgo",lat:-27.023756,lng:-50.9214803},distance:{},duration:{}},error:"",spinner:!1}),mounted(){for(let t in this.$refs){const e=new google.maps.places.Autocomplete(this.$refs[t],{bounds:new google.maps.LatLngBounds(new google.maps.LatLng(-27.0266,-50.922))});e.addListener("place_changed",()=>{const a=e.getPlace();this.route[t].address=`${a.name}, ${a.vicinity}`,this.route[t].lat=a.geometry.location.lat(),this.route[t].lng=a.geometry.location.lng()})}},methods:{calculateButtonPressed(){this.spinner=!0;const t=`https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/distancematrix/json?origins=${this.route.origin.lat},${this.route.origin.lng}&destinations=${this.route.destination.lat},${this.route.destination.lng}&key=AIzaSyBeYsZgDRvl1Gnn-Kbq4A1L8-Qpfb2z--w`;l.a.get(t).then(t=>{if(t.data.error_message)this.error=t.data.error_message;else{const e=t.data.rows[0].elements;"ZERO_RESULTS"===e[0].status?this.error="No Results Found.":(this.route.distance=e[0].distance,this.route.duration=e[0].duration,this.route.color=this.getRandomColor(),this.saveRoute()),this.spinner=!1}}).catch(t=>{console.log(t.message),this.error=t.message,this.spinner=!1})},saveRoute(){c.a.firestore().collection("routes").doc().set(this.route)},getRandomColor(){let t="#";for(let e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}}};var d=a("VU/8")(u,null,!1,function(t){a("rr7O")},"data-v-0a677f2e",null).exports;const v=new o.default;var p={components:{},data:()=>({routes:[],currentRoute:!1}),created(){c.a.firestore().collection("routes").onSnapshot(t=>{this.routes=[],t.forEach(t=>{let e=t.data();e.id=t.id,this.routes.push(e)})})},methods:{abrirModal(t){this.currentRoute=t,this.$bvModal.show("meuModal")},sortRoute(t){const e=t.target.value.split("-")[0],a=t.target.value.split("-")[1];c.a.firestore().collection("routes").where(e+"","==",a).get().then(t=>{this.routes=[],t.forEach(t=>{let e=t.data();e.id=t.id,this.routes.push(e)})})},routeItemPressed(t){v.$emit("routes-data",[t])},showAllRoutesButtonPressed(){v.$emit("routes-data",this.routes)}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"route-list-view"},[a("div",{staticClass:"route-list-view-header"},[a("h3",{staticClass:"ui header"},[t._v("Lista de Enfermidades")]),t._v(" "),a("select",{on:{change:function(e){return t.sortRoute(e)}}},[a("option",{attrs:{selected:"",disabled:""}},[t._v("Filtrar por Doença")]),t._v(" "),t._m(0)]),t._v(" "),a("button",{staticClass:"ui button show-all",on:{click:t.showAllRoutesButtonPressed}},[t._v("\n      Mostrar tudo\n    ")])]),t._v(" "),a("div",{staticClass:"ui divided selection list",on:{change:function(e){return t.sortRoute(e)}}},[t._m(1)]),t._v(" "),a("div",{staticClass:"ui segment",staticStyle:{"max-height":"650px",overflow:"auto"}},[a("div",{staticClass:"ui divided items",staticStyle:{overflow:"auto"}},t._l(t.routes,function(e){return a("div",{key:e.id,staticClass:"item",style:{"background-color":e.color},on:{click:function(a){return t.routeItemPressed(e)}}},[a("div",[a("i",{staticClass:"male alternate icon"}),t._v(" "),a("b",[t._v("Nome: ")]),t._v(t._s(e.cadastroIndividualTransport.identificacaoUsuarioCidadao.nomeCidadao)+"\n        ")]),t._v(" "),a("div",[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal",modifiers:{modal:!0}}],on:{click:function(a){return t.abrirModal(e)}}},[t._v("+Info")])],1)])}),0),t._v(" "),t.currentRoute?a("b-modal",{attrs:{id:"meuModal",title:"Informações Detalhada"}},[a("div",[a("i",{staticClass:"male alternate icon"}),t._v(" "),a("b",[t._v("Nome: ")]),t._v(t._s(t.currentRoute.cadastroIndividualTransport.identificacaoUsuarioCidadao.nomeCidadao)+"\n      ")]),t._v(" "),a("div",[a("i",{staticClass:"address card alternate icon"}),t._v(" "),a("b",[t._v("CNES: ")]),t._v(" "+t._s(t.currentRoute.cnesDadoSerializado)+"\n      ")]),t._v(" "),a("div",[a("i",{staticClass:"pin alternate icon"}),t._v(" "),a("b",[t._v("Micro Área: ")]),t._v("\n        "+t._s(t.currentRoute.cadastroIndividualTransport.identificacaoUsuarioCidadao.microArea)+"\n      ")]),t._v(" "),a("div",{staticClass:"ui red horizontal label"},[t._v("\n        "+t._s(t.currentRoute.cadastroIndividualTransport.condicoesDeSaude.statusTemDiabetes?"Diabético":"Não Diabético")+"\n      ")]),t._v(" "),a("a",{staticClass:"ui label"},[t._v("\n        Situação Peso\n        "),a("div",{staticClass:"detail"},[t._v("\n          "+t._s(t.currentRoute.cadastroIndividualTransport.condicoesDeSaude.situacaoPeso)+"\n        ")])]),t._v(" "),a("div",[a("b",[t._v("Causa da Internação: ")]),t._v(t._s(t.currentRoute.cadastroIndividualTransport.condicoesDeSaude.descricaoCausaInternacaoEm12Meses)+"\n      ")]),t._v(" "),a("div",[a("b",[t._v("Outras Condições: ")]),t._v(t._s(t.currentRoute.cadastroIndividualTransport.condicoesDeSaude.descricaoOutraCondicao1)+"—"+t._s(t.currentRoute.cadastroIndividualTransport.condicoesDeSaude.descricaoOutraCondicao2)+"\n      ")]),t._v(" "),a("div",{staticClass:"ui green horizontal label"},[t._v("\n        "+t._s(t.currentRoute.cadastroIndividualTransport.condicoesDeSaude.statusTemDoencaRespiratoria?"Tem Doença Respiratória":"Não tem Doença Respiratória")+"\n      ")]),t._v(" "),a("div",{staticClass:"ui horizontal label"},[t._v("\n        "+t._s(t.currentRoute.cadastroIndividualTransport.condicoesDeSaude.statusTemHanseniase?"Tem hanseníase":"Não tem hanseníase")+"\n      ")]),t._v(" "),a("div",{staticClass:"ui horizontal label"},[t._v("\n        "+t._s(t.currentRoute.cadastroIndividualTransport.condicoesDeSaude.statusTemHipertensaoArterial?"Tem Hipertensão Arterial":"Não tem Hipertensão Arterial")+"\n      ")]),t._v(" "),a("div",{staticClass:"ui horizontal label"},[t._v("\n        "+t._s(t.currentRoute.cadastroIndividualTransport.condicoesDeSaude.statusTemTuberculose?"Tem Tuberculose":"Não tem Tuberculose")+"\n      ")])]):t._e()],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("optgroup",{attrs:{label:"Escolha uma doença abaixo"}},[a("option",{attrs:{value:"color-#6EF0A0"}},[t._v("Hanseniase")]),t._v(" "),a("option",{attrs:{value:"color-#FA7846"}},[t._v("Diabete")]),t._v(" "),a("option",{attrs:{value:"color-#FAACF8"}},[t._v("Hipertensão arterial")]),t._v(" "),a("option",{attrs:{value:"color-#4C54D6"}},[t._v("Cancêr")]),t._v(" "),a("option",{attrs:{value:"color-#38C1FF"}},[t._v("Tuberculose")]),t._v(" "),a("option",{attrs:{value:"color-#45301B"}},[t._v("AVC Derrame")]),t._v(" "),a("option",{attrs:{value:"color-#ABAB82"}},[t._v("Doença Cardíaca")]),t._v(" "),a("option",{attrs:{value:"color-#605499"}},[t._v("Infarto")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"item"},[a("a",{staticClass:"ui circular label",staticStyle:{background:"#fa7846"}},[t._v("Diabete")]),t._v(" "),a("a",{staticClass:"ui circular label",staticStyle:{background:"#fae746"}},[t._v("Doença Respiratória")]),t._v(" "),a("a",{staticClass:"ui circular label",staticStyle:{background:"#6ef0a0"}},[t._v("Hanseníase")]),t._v(" "),a("a",{staticClass:"ui circular label",staticStyle:{background:"#faacf8"}},[t._v("Hipertensão arterial")]),t._v(" "),a("a",{staticClass:"ui circular label",staticStyle:{background:"#4c54d6",color:"white"}},[t._v("Câncer\n      ")]),t._v(" "),a("a",{staticClass:"ui circular label",staticStyle:{background:"#38c1ff"}},[t._v("Tuberculose\n      ")])])}]};var _=a("VU/8")(p,m,!1,function(t){a("Ui3O")},"data-v-1bb2316b",null).exports,h={data:()=>({map:null}),mounted(){const t=new google.maps.DirectionsService;v.$on("routes-data",e=>{this.map=new google.maps.Map(this.$refs.map,{center:new google.maps.LatLng(-27.0266,-50.922),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP}),e.forEach(({origin:e,destination:a,color:o})=>{t.route({origin:e.address,destination:a.address,travelMode:"DRIVING"},(t,a)=>{if("OK"===a){const a=new google.maps.DirectionsRenderer({suppressMarkers:!0,directions:t,map:this.map,polylineOptions:{strokeColor:o,strokeWeight:8},suppressPolylines:!0});this.createInfoWindowWith(e,"marker alternate",o);const s=t.routes[0].overview_path;s[parseInt(s.lenght/2)];distanceDurationLabel.open(this.map,null),a.setDirections(t),a.setMap(this.map),this.createPolylineWith([{lat:e.lat,lng:e.lng},{lat:s[0].lat(),lng:s[0].lng()}],o),this.createPolylineWith([{lat:e.lat,lng:e.lng},{lat:s[s.lenght-1].lat(),lng:s[s.lenght-1].lng()}],o,cadastroIndividualTransport.condicoesDeSaude.descricaoCausaInternacaoEm12Meses)}})})})},methods:{createInfoWindowWith(t,e,a){new google.maps.InfoWindow({content:`<div style="background-color:${a};padding:15px;"><i class="${e} icon"></i>`,position:new google.maps.LatLng(t.lat,t.lng)}).open(this.map,null)},createPolylineWith(t,e){new google.maps.Polyline({path:t,strokeColor:e,strokeOpacity:1,strokeWeight:8,map:this.map})}}},g={render:function(){var t=this.$createElement;return(this._self._c||t)("section",{ref:"map",staticClass:"map"})},staticRenderFns:[]};var f={components:{OriginDestinationForm:d,RouteList:_,DirectionsMapView:a("VU/8")(h,g,!1,function(t){a("JVU7")},null,null).exports}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("main",[e("OriginDestinationForm"),this._v(" "),e("RouteList"),this._v(" "),e("DirectionsMapView")],1)},staticRenderFns:[]},C=a("VU/8")(f,b,!1,null,null,null).exports;o.default.use(n.a);var R=new n.a({routes:[{path:"/",component:C}]}),D=(a("kVq8"),a("Tqaz"));a("Jmt5"),a("9M+g");o.default.config.productionTip=!1,o.default.use(D.a),o.default.use(D.b);c.a.initializeApp({apiKey:"AIzaSyDMThZI56-xB5gIq_CxF9dnceZqO-XcUrE",authDomain:"saudemap-4fd5f.firebaseapp.com",projectId:"saudemap-4fd5f",storageBucket:"saudemap-4fd5f.appspot.com",messagingSenderId:"597349920133",appId:"1:597349920133:web:916ede6b6433d30fc8a8ec"}),console.log(c.a),new o.default({el:"#app",router:R,components:{App:i},template:"<App/>"})},Ui3O:function(t,e){},kVq8:function(t,e){},rr7O:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.42c196b6b243f0b689e7.js.map